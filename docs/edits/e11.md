### Summary The right-hand gutter comes from the responsive layout hook. When the viewport is short (e.g., 1920×1080), the `updateGameLayout` logic clamps the playfield’s height to the available space and then recomputes `playWidth = Math.round(playHeight * ASPECT_RATIO)`. Because `playX` remains fixed at the 14 px HUD gutter, the shrinkage happens only on the right, leaving a few hundred pixels of empty space despite the left/top margins being correct.​:codex-file-citation[codex-file-citation]{line_range_start=28 line_range_end=65 path=src/hooks/useResponsiveLayout.js git_url="https://github.com/Snootypants/asteroidsClassic/blob/visual-update/src/hooks/useResponsiveLayout.js#L28-L65"}​### Issue The fixed-aspect-ratio branch (lines 47‑61) reduces `playWidth` when the height constraint is hit but never rebalances the horizontal margins, so the right margin inflates while the left stays at 14 px. The result is the oversized gap you’re seeing on the right edge even though the layout otherwise tracks the HUD spacing.​:codex-file-citation[codex-file-citation]{line_range_start=36 line_range_end=65 path=src/hooks/useResponsiveLayout.js git_url="https://github.com/Snootypants/asteroidsClassic/blob/visual-update/src/hooks/useResponsiveLayout.js#L36-L65"}​:::task-stub{title="Keep the play area flush with both side gutters when height is the limiting factor"} 1. Edit `src/hooks/useResponsiveLayout.js` inside `updateGameLayout`. 2. In the `if (playHeight > availableHeight)` branch, stop shrinking `playWidth`. Instead, keep `playWidth = availableWidth` so the frame stretches between the two 14 px gutters, and only clamp `playHeight` to `availableHeight`. 3. Update the `canvas.width`/`canvas.height` assignments (and the associated ref writes) to use the new `playWidth`/`playHeight` values. 4. Ensure `setMetaLayout` still passes the adjusted `playWidth`, `playHeight`, and `playX` so the HUD keeps aligning. 5. Manually verify (e.g., at 1920×1080) that resizing the window leaves identical spacing between the playfield and both side edges. ::: No automated tests were run (analysis-only review).

## Summary - The responsive layout hook always pins the playfield 14 px from the left even after shrinking its width to satisfy the aspect ratio, so the entire leftover width shows up as a large gutter on the right.​:codex-file-citation[codex-file-citation]{line_range_start=37 line_range_end=110 path=src/hooks/useResponsiveLayout.js git_url="https://github.com/Snootypants/asteroidsClassic/blob/visual-update/src/hooks/useResponsiveLayout.js#L37-L110"}​- App.jsx relies solely on that left offset when positioning the playfield, so the play area never re-centers or rebalances its margins after the width shrinks.​:codex-file-citation[codex-file-citation]{line_range_start=137 line_range_end=147 path=src/App.jsx git_url="https://github.com/Snootypants/asteroidsClassic/blob/visual-update/src/App.jsx#L137-L147"}​## Issues 1. Right-hand spacing balloons whenever the viewport height forces the playfield to shrink, because `useResponsiveLayout` keeps `playX` fixed at the left margin and never reapportions the unused horizontal space, leaving the right gap far larger than the configured margins.​:codex-file-citation[codex-file-citation]{line_range_start=37 line_range_end=66 path=src/hooks/useResponsiveLayout.js git_url="https://github.com/Snootypants/asteroidsClassic/blob/visual-update/src/hooks/useResponsiveLayout.js#L37-L66"}​​:codex-file-citation[codex-file-citation]{line_range_start=137 line_range_end=147 path=src/App.jsx git_url="https://github.com/Snootypants/asteroidsClassic/blob/visual-update/src/App.jsx#L137-L147"}​:::task-stub{title="Rebalance playfield margins when width shrinks"} Step-by-step: 1. In `src/hooks/useResponsiveLayout.js`, after calculating `playWidth`, compute `const extraWidth = Math.max(0, availableWidth - playWidth)` and derive a horizontal offset (e.g., `const marginOffset = extraWidth / 2`) so the leftover width can be shared between both sides instead of sitting entirely on the right. 2. Use that offset when deriving `playX`, and record a matching `playRight` (e.g., `MARGIN_HORIZONTAL + marginOffset`) in `metaLayout` so both left and right margins stay equal while preserving the aspect ratio. 3. Update `src/App.jsx` to consume the new `playRight` value when styling `.playfieldFrame` (adding a `right` inline style and keeping the existing width/height bindings) so the frame repositions correctly on resize. ::: ## Testing ⚠️ Not run (QA review only).

## Issues 1. The responsive layout hook always pins the playfield’s `left` offset to the fixed HUD margin (`14px`), even when the canvas width is reduced to satisfy the aspect-ratio/height constraint. As a result, any leftover horizontal space is dumped entirely on the right, creating the large gap you’re seeing and preventing the right edge from tracking window resizes symmetrically.​:codex-file-citation[codex-file-citation]{line_range_start=41 line_range_end=66 path=src/hooks/useResponsiveLayout.js git_url="https://github.com/Snootypants/asteroidsClassic/blob/visual-update/src/hooks/useResponsiveLayout.js#L41-L66"}​:::task-stub{title="Equalize horizontal margins for the playfield"} 1. In `src/hooks/useResponsiveLayout.js`, inside `updateGameLayout`, compute the extra horizontal space (`availableWidth - playWidth`) after the aspect-ratio/height adjustments. 2. Replace the hardcoded `playX = MARGIN_HORIZONTAL` assignment with `playX = MARGIN_HORIZONTAL + Math.floor(extra / 2)` (or similar) so both left and right margins share the remaining space while respecting the minimum 14 px gutter. 3. Keep `playY` anchored to `MARGIN_TOP`, update the `metaLayout` payload with the new `playX`, and verify that overlays that read `metaLayout.playX` (e.g., the HUD) still line up. 4. Manually resize the browser window to confirm the playfield stays the same distance from both window edges. ::: ## Testing Testing not run (QA review only).

## Findings 1. The responsive layout never repositions the playfield when the height constraint forces a narrower play width. `useResponsiveLayout` always pins `playX` to the left margin (14 px), so any unused horizontal space is dumped on the right side, which is why the gap there balloons on wider screens even though the left/top margins look correct.​:codex-file-citation[codex-file-citation]{line_range_start=28 line_range_end=66 path=src/hooks/useResponsiveLayout.js git_url="https://github.com/Snootypants/asteroidsClassic/blob/visual-update/src/hooks/useResponsiveLayout.js#L28-L66"}​ In practice the playfield width falls below `availableWidth`, but because we never shift `playX` to share that slack, the right edge drifts far from the viewport edge. :::task-stub{title="Balance playfield margins when height constrains layout"} 1. In `src/hooks/useResponsiveLayout.js`, inside `updateGameLayout`, compute the extra horizontal space after `playWidth` is finalized (`const extra = availableWidth - playWidth`). 2. When `extra > 0`, adjust `playX` to redistribute that slack (e.g., `playX = MARGIN_HORIZONTAL + Math.round(extra / 2)` while keeping a minimum of `MARGIN_HORIZONTAL`) so both left and right margins stay in sync instead of leaving all of the slack on the right. 3. Keep updating `metaLayout.playX`/`playWidth` and ensure `App.jsx` continues to use those values (or switches its inline style to `metaLayout.playWidth`) so the frame tracks window resizes with consistent borders.​:codex-file-citation[codex-file-citation]{line_range_start=137 line_range_end=157 path=src/App.jsx git_url="https://github.com/Snootypants/asteroidsClassic/blob/visual-update/src/App.jsx#L137-L157"}​::: ## Testing ⚠️ Not run (QA-only review)